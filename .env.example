# .env.example — 环境变量示例（请复制为 .env 或直接 export 使用）
# 注意：当前项目不会自动加载 .env 文件，请手动 export，或用 direnv/foreman 等工具加载。
# 例如：
#   cp .env.example .env
#   export $(grep -v '^#' .env | xargs)

########################
# 基础应用运行参数
########################
LOG_LEVEL=DEBUG           # DEBUG/INFO/WARNING/ERROR
DB_PATH=trader.db         # SQLite 数据库文件路径
TZ=Asia/Shanghai          # 时区（日志/显示），如 Asia/Shanghai

########################
# 交易所与订阅参数
########################
BINANCE_API_KEY=your_api_key_here        # 非干跑时必填
BINANCE_API_SECRET=your_api_secret_here  # 非干跑时必填

SYMBOL=BTCUSDT            # 交易对
INTERVAL=15m              # K线周期，如 1m/5m/15m/1h 等
WINDOW=20                 # 布林带窗口期（默认 20）

########################
# 策略与风控
########################
STOP_LOSS_PCT=0.02        # 止损比例（2%）
MAX_POSITION_PCT=0.10     # 最大仓位占用（10%）
LEVERAGE=10               # 杠杆倍数
ONLY_ON_CLOSE=1           # 仅在K线收盘时处理策略信号
STOP_LOSS_ENABLED=1       # 开仓后自动挂止损单

########################
# 指标（布林带）
########################
BOLL_MULTIPLIER=2.0       # 布林带倍数（DN = 中轨 - 倍数 × 标准差）
BOLL_DDOF=0               # 标准差 ddof（与文档一致）
INDICATOR_MAX_ROWS=200    # 指标缓存最大行数

########################
# WebSocket 行情流
########################
WS_PING_INTERVAL=20       # 心跳间隔（秒）
WS_PING_TIMEOUT=60        # 心跳超时（秒）
WS_BACKOFF_INITIAL=1      # 重连初始退避（秒）
WS_BACKOFF_MAX=60         # 重连最大退避（秒）

########################
# 下单与网络
########################
RECV_WINDOW=5000          # REST 接口 recvWindow（毫秒）
HTTP_TIMEOUT=30           # HTTP 超时（秒）
QTY_PRECISION=3           # 数量精度（简单截断，生产建议基于交易所规则动态获取）
PRICE_ROUND=2             # 止损价格保留小数位
STOP_LOSS_WORKING_TYPE=CONTRACT_PRICE  # CONTRACT_PRICE 或 MARK_PRICE

########################
# 端点（可选覆盖；通常保持为空使用系统默认）
########################
# 默认主网端点（可手工覆盖）：
#   REST_BASE=https://fapi.binance.com
#   WS_BASE=wss://fstream.binance.com
# 如需手工覆盖，请取消注释并填写：
# REST_BASE=
# WS_BASE=

########################
# 典型配置示例
########################
# 开发联调（干跑/模拟交易）：
# SYMBOL=BTCUSDT
# INTERVAL=15m
# WINDOW=20
# STOP_LOSS_PCT=0.02
# MAX_POSITION_PCT=0.10
# LEVERAGE=5
# ONLY_ON_CLOSE=1
# STOP_LOSS_ENABLED=1
# SIMULATE_TRADING=1

# 生产（真实下单）：确保 API Key 权限正确、开启IP白名单
# LOG_LEVEL=INFO
# TZ=Asia/Shanghai
# BINANCE_API_KEY=your_mainnet_key
# BINANCE_API_SECRET=your_mainnet_secret
# SIMULATE_TRADING=0